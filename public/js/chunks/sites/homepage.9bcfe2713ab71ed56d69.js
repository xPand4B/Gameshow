(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{NCqo:function(e,t,n){"use strict";n.r(t);var r=n("L2JU");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={name:"pages-home-index",components:{GameMenu:n("ZFEL").a},data:function(){return{isValid:!1,form:{username:"xPand"}}},computed:i({},Object(r.c)(["getCurrentGameId"])),methods:i(i({},Object(r.b)(["loginPlayer","createNewGame"])),{},{onCreateSubmit:function(){var e=this;this.isValid&&this.loginPlayer(this.form.username).then((function(){e.createNewGame(e.form)}))}})},c=n("KHd+"),l=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("game-menu",{attrs:{"main-menu":"","custom-card":""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n        "+e._s(e.$t("homepage.index.title"))+"\n    ")]},proxy:!0}])},[e._v(" "),n("v-form",{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[n("v-card-text",{staticClass:"mx-auto"},[n("v-container",[n("v-row",[n("v-col",{staticClass:"pb-0"},[n("v-text-field",{attrs:{autoComplete:"username",label:e.$t("homepage.index.form.username.label"),hint:e.$t("homepage.index.form.username.hint"),rules:[function(t){return!!t||e.$t("validation.required")},function(t){return t.length<=20||e.$t("validation.max-chars",{num:20})}],counter:"20","persistent-hint":"",outlined:"",required:"","aria-required":"true"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onCreateSubmit(t)}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),n("v-col",{staticClass:"pb-0",attrs:{cols:"4"}},[n("language-switch",{staticClass:"mb-6"})],1)],1)],1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-row",[n("v-col",[n("v-btn",{attrs:{disabled:!e.isValid,color:"green darken-1",elevation:"3",ripple:"",dark:e.isValid,large:"",block:"",rounded:""},on:{click:e.onCreateSubmit}},[e._v("\n                        "+e._s(e.$t("homepage.index.form.create"))+"\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=l.exports},ZFEL:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v}));var r=n("L2JU");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={name:"game-menu-playerListing",computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.c)(["getLobbyUser","getPlayerName"]))},s=n("KHd+"),c=Object(s.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-slide-y-transition",{attrs:{group:""}},e._l(e.getLobbyUser,(function(t,r){return n("v-chip",{key:"lobby.user."+r,staticClass:"ma-2",attrs:{color:"primary",outlined:e.getPlayerName!==t.text}},[t.isGamemaster?n("i",{staticClass:"fas fa-crown fa-sm pr-2"}):e._e(),e._v("\n            "+e._s(t.text)+"\n        ")])})),1)],1)}),[],!1,null,null,null).exports,l=n("Uoid");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={name:"game-menu",components:{PlayerListing:c},data:function(){return{ApiRoutes:l.a,loading:!0,gameId:null,joinUrl:""}},props:{mainMenu:{type:Boolean,default:!1},customCard:{type:Boolean,default:!1},withCopyLink:{type:Boolean,default:!1},backLink:{type:String,default:null}},beforeMount:function(){this.mainMenu||this.fetchMe()},watch:{isLoading:{handler:function(e,t){!e&&t&&this.initValues()},deep:!0,immediate:!0},mainMenu:{handler:function(e,t){!e&&t&&this.fetchMe()},deep:!0,immediate:!0}},computed:d({},Object(r.c)(["getPlayerLoginSuccess"])),methods:d(d({},Object(r.b)(["fetchSingleGameData","setPlayerName","loginPlayer","lobbyInit","lobbyJoined","lobbyLeft"])),{},{fetchMe:function(){var e=this;axios.get(l.a.v1.auth.me).then((function(t){t.data.success?e.fetchSingleGameData(e.$route.params.id).then((function(){e.setPlayerName(t.data.playerName),e.initValues()})):e.enterPlayerName()})).catch((function(e){Toast.fire({icon:"error",title:e})}))},enterPlayerName:function(){var e=this;Swal.fire({icon:"question",title:"What's your username?",input:"text",allowOutsideClick:!1,preConfirm:function(t){t?t.length>20&&Swal.showValidationMessage(e.$t("validation.max-chars",{num:20})):Swal.showValidationMessage(e.$t("validation.required"))}}).then((function(t){e.loginPlayer(t.value.toString()).then((function(){e.fetchMe()}))}))},initValues:function(){var e=this;this.gameId=this.$route.params.id,this.joinUrl=window.location.href,this.loading=!1,Echo.join("Game.".concat(this.$route.params.id,".Lobby")).here((function(t){e.lobbyInit(t)})).joining((function(t){e.lobbyJoined(t)})).leaving((function(t){e.lobbyLeft(t)}))},handleCopySuccess:function(){Toast.fire({icon:"success",title:"Link has been copied!"})},changeRoute:function(e){this.$router.push({name:e,params:{id:this.$route.params.id}})}})},m=Object(s.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"rounded-tl-xl pl-10 deep-purple lighten-1 white--text"},[n("v-card-title",{staticClass:"text-h3 px-0"},[e._t("title",[e._v("\n                !!! Missing title !!!\n            ")]),e._v(" "),n("br")],2)],1),e._v(" "),e.customCard?e._e():n("v-card-text",{staticClass:"mx-auto"},[e.loading?n("div",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"deep-purple lighten-1",size:70,width:7}})],1):n("v-container",{staticClass:"py-0 px-6"},[e._t("content"),e._v(" "),e.withCopyLink?n("v-container",{staticClass:"pt-10"},[n("v-row",[n("v-col",{staticClass:"px-0 pb-0",attrs:{cols:"8"}},[n("v-text-field",{ref:"joinUrl",attrs:{label:e.$t("menu.general.copy.label"),outlined:"",dense:"",disabled:"","aria-disabled":"true"},model:{value:e.joinUrl,callback:function(t){e.joinUrl=t},expression:"joinUrl"}})],1),e._v(" "),n("v-col",{staticClass:"px-0"},[n("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.joinUrl,expression:"joinUrl"}],staticClass:"ml-4",attrs:{color:"primary",dark:"",block:""},on:{success:e.handleCopySuccess}},[n("i",{staticClass:"fas fa-copy pr-2"}),e._v("\n                            "+e._s(e.$t("menu.general.copy.buttonText"))+"\n                        ")])],1)],1),e._v(" "),n("v-row",[n("language-switch",{attrs:{dense:""}})],1),e._v(" "),n("div",[n("v-divider",{staticClass:"pb-3"}),e._v(" "),n("player-listing")],1)],1):e._e()],2)],1),e._v(" "),n("v-fade-transition",{attrs:{mode:"out-in"}},[e.loading&&e.customCard&&!e.mainMenu?n("div",{staticClass:"text-center py-5"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"deep-purple lighten-1",size:70,width:7}})],1):e._t("default")],2),e._v(" "),e.backLink?n("v-card-actions",{staticClass:"grey lighten-2 rounded-br-xl"},[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.changeRoute("gameshow.menu.index")}}},[n("i",{staticClass:"fas fa-2x fa-caret-left pr-3"}),e._v("\n            "+e._s(e.$t("navigation.back"))+"\n        ")])],1):e._e()],1)}),[],!1,null,null,null).exports,b={name:"game-menu-buttons",data:function(){return{gameId:null}},props:{routeName:{type:String,required:!0},text:{type:String,required:!0},icon:{type:String,default:null}},created:function(){this.gameId=this.$route.params.id},methods:{changeRoute:function(e){this.$router.push({name:e,params:{id:this.gameId}})}}},v=Object(s.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{color:"indigo",elevation:"2",block:"","x-large":"",outlined:""},on:{click:function(t){return e.changeRoute(e.routeName)}}},[e.icon?n("i",{staticClass:"pr-2",class:e.icon}):e._e(),e._v("\n    "+e._s(e.text)+"\n")])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=homepage.9bcfe2713ab71ed56d69.js.map