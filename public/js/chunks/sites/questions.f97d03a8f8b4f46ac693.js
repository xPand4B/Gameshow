(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ZFEL:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var s=n("L2JU");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={name:"game-menu-playerListing",computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(s.c)(["getLobbyUser","getPlayerName"]))},r=n("KHd+"),l=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-slide-y-transition",{attrs:{group:""}},e._l(e.getLobbyUser,(function(t,s){return n("v-chip",{key:"lobby.user."+s,staticClass:"ma-2",attrs:{color:"primary",outlined:e.getPlayerName!==t.text}},[t.isGamemaster?n("i",{staticClass:"fas fa-crown fa-sm pr-2"}):e._e(),e._v("\n            "+e._s(t.text)+"\n        ")])})),1)],1)}),[],!1,null,null,null).exports,c=n("Uoid");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={name:"game-menu",components:{PlayerListing:l},data:function(){return{ApiRoutes:c.a,loading:!0,gameId:null,joinUrl:""}},props:{mainMenu:{type:Boolean,default:!1},customCard:{type:Boolean,default:!1},withCopyLink:{type:Boolean,default:!1},backLink:{type:String,default:null}},beforeMount:function(){this.mainMenu||this.fetchMe()},watch:{isLoading:{handler:function(e,t){!e&&t&&this.initValues()},deep:!0,immediate:!0},mainMenu:{handler:function(e,t){!e&&t&&this.fetchMe()},deep:!0,immediate:!0}},computed:d({},Object(s.c)(["getPlayerLoginSuccess"])),methods:d(d({},Object(s.b)(["fetchSingleGameData","setPlayerName","loginPlayer","lobbyInit","lobbyJoined","lobbyLeft"])),{},{fetchMe:function(){var e=this;axios.get(c.a.v1.auth.me).then((function(t){t.data.success?e.fetchSingleGameData(e.$route.params.id).then((function(){e.setPlayerName(t.data.playerName),e.initValues()})):e.enterPlayerName()})).catch((function(e){Toast.fire({icon:"error",title:e})}))},enterPlayerName:function(){var e=this;Swal.fire({icon:"question",title:"What's your username?",input:"text",allowOutsideClick:!1,preConfirm:function(t){t?t.length>20&&Swal.showValidationMessage(e.$t("validation.max-chars",{num:20})):Swal.showValidationMessage(e.$t("validation.required"))}}).then((function(t){e.loginPlayer(t.value.toString()).then((function(){e.fetchMe()}))}))},initValues:function(){var e=this;this.gameId=this.$route.params.id,this.joinUrl=window.location.href,this.loading=!1,Echo.join("Game.".concat(this.$route.params.id,".Lobby")).here((function(t){e.lobbyInit(t)})).joining((function(t){e.lobbyJoined(t)})).leaving((function(t){e.lobbyLeft(t)}))},handleCopySuccess:function(){Toast.fire({icon:"success",title:"Link has been copied!"})},changeRoute:function(e){this.$router.push({name:e,params:{id:this.$route.params.id}})}})},f=Object(r.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"rounded-tl-xl pl-10 deep-purple lighten-1 white--text"},[n("v-card-title",{staticClass:"text-h3 px-0"},[e._t("title",[e._v("\n                !!! Missing title !!!\n            ")]),e._v(" "),n("br")],2)],1),e._v(" "),e.customCard?e._e():n("v-card-text",{staticClass:"mx-auto"},[e.loading?n("div",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"deep-purple lighten-1",size:70,width:7}})],1):n("v-container",{staticClass:"py-0 px-6"},[e._t("content"),e._v(" "),e.withCopyLink?n("v-container",{staticClass:"pt-10"},[n("v-row",[n("v-col",{staticClass:"px-0 pb-0",attrs:{cols:"8"}},[n("v-text-field",{ref:"joinUrl",attrs:{label:e.$t("menu.general.copy.label"),outlined:"",dense:"",disabled:"","aria-disabled":"true"},model:{value:e.joinUrl,callback:function(t){e.joinUrl=t},expression:"joinUrl"}})],1),e._v(" "),n("v-col",{staticClass:"px-0"},[n("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.joinUrl,expression:"joinUrl"}],staticClass:"ml-4",attrs:{color:"primary",dark:"",block:""},on:{success:e.handleCopySuccess}},[n("i",{staticClass:"fas fa-copy pr-2"}),e._v("\n                            "+e._s(e.$t("menu.general.copy.buttonText"))+"\n                        ")])],1)],1),e._v(" "),n("v-row",[n("language-switch",{attrs:{dense:""}})],1),e._v(" "),n("div",[n("v-divider",{staticClass:"pb-3"}),e._v(" "),n("player-listing")],1)],1):e._e()],2)],1),e._v(" "),n("v-fade-transition",{attrs:{mode:"out-in"}},[e.loading&&e.customCard&&!e.mainMenu?n("div",{staticClass:"text-center py-5"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"deep-purple lighten-1",size:70,width:7}})],1):e._t("default")],2),e._v(" "),e.backLink?n("v-card-actions",{staticClass:"grey lighten-2 rounded-br-xl"},[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.changeRoute("gameshow.menu.index")}}},[n("i",{staticClass:"fas fa-2x fa-caret-left pr-3"}),e._v("\n            "+e._s(e.$t("navigation.back"))+"\n        ")])],1):e._e()],1)}),[],!1,null,null,null).exports,v={name:"game-menu-buttons",data:function(){return{gameId:null}},props:{routeName:{type:String,required:!0},text:{type:String,required:!0},icon:{type:String,default:null}},created:function(){this.gameId=this.$route.params.id},methods:{changeRoute:function(e){this.$router.push({name:e,params:{id:this.gameId}})}}},m=Object(r.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{color:"indigo",elevation:"2",block:"","x-large":"",outlined:""},on:{click:function(t){return e.changeRoute(e.routeName)}}},[e.icon?n("i",{staticClass:"pr-2",class:e.icon}):e._e(),e._v("\n    "+e._s(e.text)+"\n")])}),[],!1,null,null,null).exports},sGyK:function(e,t,n){"use strict";n.r(t);var s={name:"pages-questions-index",components:{GameMenu:n("ZFEL").a},data:function(){return{selectedTab:0,selectedAnswerOption:null,questions:[]}},created:function(){0===this.questions.length&&(this.addQuestion(),this.addQuestion(),this.selectedTab=0)},watch:{selectedTab:{handler:function(){this.selectedAnswerOption=null}}},methods:{getDisplayableIndex:function(e){var t=e+1;return t<10&&(t="0".concat(t)),t},addQuestion:function(){this.questions.push({question:"",answers:[this.getNewAnswerOption(),this.getNewAnswerOption(),this.getNewAnswerOption(),this.getNewAnswerOption()]})},addAnswerOption:function(){this.questions[this.selectedTab].answers.push(this.getNewAnswerOption())},getNewAnswerOption:function(){return{answer:"",context:"",isCorrect:!1}},deleteQuestion:function(e){1!==this.questions.length?(this.selectedTab=this.questions.length-2,this.questions.splice(e,1)):Swal.fire({icon:"error",title:this.$t("questions.modal.lastQuestion.title"),text:this.$t("questions.modal.lastQuestion.text")})},deleteAnswerOption:function(e){2!==this.questions[this.selectedTab].answers.length?this.questions[this.selectedTab].answers.splice(e,1):Swal.fire({icon:"error",title:this.$t("questions.modal.lastAnswerOption.title"),text:this.$t("questions.modal.lastAnswerOption.text")})}}},i=n("KHd+"),a=Object(i.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("game-menu",{attrs:{"back-link":"gameshow.menu.index"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n        "+e._s(e.$t("questions.title"))+"\n    ")]},proxy:!0},{key:"content",fn:function(){return[n("v-row",[n("v-col",{staticClass:"py-0 px-0",attrs:{cols:"11"}},[n("v-tabs",{attrs:{"center-active":"","show-arrows":""},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.questions,(function(t,s){return n("v-tab",{key:"questions.tab."+s,staticClass:"px-0"},[e._v("\n                        "+e._s(e.getDisplayableIndex(s))+"\n                    ")])})),1)],1),e._v(" "),n("v-col",{staticClass:"py-0 px-0 my-auto text-center"},[n("v-btn",{attrs:{icon:""},on:{click:e.addQuestion}},[n("v-icon",{domProps:{textContent:e._s("fas fa-plus")}})],1)],1)],1),e._v(" "),n("v-divider",{staticClass:"pb-5"}),e._v(" "),n("v-tabs-items",{model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.questions,(function(t,s){return n("v-tab-item",{key:"questions.tab."+s+".item"},[n("v-textarea",{attrs:{label:e.$t("questions.form.question.label"),"clear-icon":"fas fa-times",clearable:"",rows:"4",dense:"",outlined:"",required:"","aria-required":"true"},model:{value:e.questions[e.selectedTab].question,callback:function(t){e.$set(e.questions[e.selectedTab],"question",t)},expression:"questions[selectedTab].question"}}),e._v(" "),n("v-divider",{staticClass:"pb-5"}),e._v(" "),n("v-expansion-panels",{attrs:{accordion:"",focusable:""},model:{value:e.selectedAnswerOption,callback:function(t){e.selectedAnswerOption=t},expression:"selectedAnswerOption"}},e._l(e.questions[e.selectedTab].answers,(function(t,s){return n("v-expansion-panel",{key:"question."+e.selectedTab+".answer."+s},[n("v-expansion-panel-header",{staticClass:"blue-grey lighten-4"},[n("h3",[e._v(e._s(e.$t("questions.form.title",{num:e.getDisplayableIndex(s)})))])]),e._v(" "),n("v-expansion-panel-content",[n("v-row",[n("v-col",{staticClass:"pb-0"},[n("v-textarea",{attrs:{label:e.$t("questions.form.answer.label"),"clear-icon":"fas fa-times",clearable:"",rows:"3",dense:"",outlined:"",required:"","aria-required":"true"},model:{value:e.questions[e.selectedTab].answers[s].answer,callback:function(t){e.$set(e.questions[e.selectedTab].answers[s],"answer",t)},expression:"questions[selectedTab].answers[index].answer"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{staticClass:"py-0"},[n("v-textarea",{attrs:{label:e.$t("questions.form.answerNote.label"),hint:e.$t("questions.form.answerNote.hint"),"clear-icon":"fas fa-times",clearable:"",rows:"1","persistent-hint":"",dense:"",outlined:""},model:{value:e.questions[e.selectedTab].answers[s].context,callback:function(t){e.$set(e.questions[e.selectedTab].answers[s],"context",t)},expression:"questions[selectedTab].answers[index].context"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{staticClass:"py-0"},[n("v-checkbox",{attrs:{label:e.$t("questions.form.isCorrect.label")},model:{value:e.questions[e.selectedTab].answers[s].isCorrect,callback:function(t){e.$set(e.questions[e.selectedTab].answers[s],"isCorrect",t)},expression:"questions[selectedTab].answers[index].isCorrect"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{staticClass:"py-0"},[n("v-btn",{attrs:{elevation:"4",color:"red darken-1",block:"",outlined:""},on:{click:function(t){return e.deleteAnswerOption(s)}}},[n("v-icon",{staticClass:"pr-2",domProps:{textContent:e._s("fas fa-times")}}),e._v("\n                                        "+e._s(e.$t("questions.form.deleteAnswerOption.button"))+"\n                                    ")],1)],1)],1)],1)],1)})),1),e._v(" "),n("v-row",{staticClass:"mt-10"},[n("v-col",{attrs:{cols:"6"}},[n("v-btn",{attrs:{elevation:"4",color:"green darken-1",block:"",outlined:""},on:{click:e.addAnswerOption}},[n("v-icon",{staticClass:"pr-2",domProps:{textContent:e._s("fas fa-plus")}}),e._v("\n                            "+e._s(e.$t("questions.form.addAnswer.button"))+"\n                        ")],1)],1),e._v(" "),n("v-col",[n("v-btn",{attrs:{elevation:"4",color:"red darken-2",block:"",outlined:""},on:{click:function(t){return e.deleteQuestion(s)}}},[n("v-icon",{staticClass:"pr-2",domProps:{textContent:e._s("fas fa-trash")}}),e._v("\n                            "+e._s(e.$t("questions.form.deleteQuestion.button"))+"\n                        ")],1)],1)],1)],1)})),1)]},proxy:!0}])})}),[],!1,null,null,null);t.default=a.exports}}]);
//# sourceMappingURL=questions.f97d03a8f8b4f46ac693.js.map